module Chinese

using Dates

include("../dates.jl")

# from https://github.com/vacanza/holidays

const LUNAR_NEW_YEAR_DATES = Set{Date}([
    Date(1901, 2, 19),
    Date(1902, 2, 8),
    Date(1903, 1, 29),
    Date(1904, 2, 16),
    Date(1905, 2, 4),
    Date(1906, 1, 25),
    Date(1907, 2, 13),
    Date(1908, 2, 2),
    Date(1909, 1, 22),
    Date(1910, 2, 10),
    Date(1911, 1, 30),
    Date(1912, 2, 18),
    Date(1913, 2, 6),
    Date(1914, 1, 26),
    Date(1915, 2, 14),
    Date(1916, 2, 4),
    Date(1917, 1, 23),
    Date(1918, 2, 11),
    Date(1919, 2, 1),
    Date(1920, 2, 20),
    Date(1921, 2, 8),
    Date(1922, 1, 28),
    Date(1923, 2, 16),
    Date(1924, 2, 5),
    Date(1925, 1, 24),
    Date(1926, 2, 13),
    Date(1927, 2, 2),
    Date(1928, 1, 23),
    Date(1929, 2, 10),
    Date(1930, 1, 30),
    Date(1931, 2, 17),
    Date(1932, 2, 6),
    Date(1933, 1, 26),
    Date(1934, 2, 14),
    Date(1935, 2, 4),
    Date(1936, 1, 24),
    Date(1937, 2, 11),
    Date(1938, 1, 31),
    Date(1939, 2, 19),
    Date(1940, 2, 8),
    Date(1941, 1, 27),
    Date(1942, 2, 15),
    Date(1943, 2, 5),
    Date(1944, 1, 25),
    Date(1945, 2, 13),
    Date(1946, 2, 2),
    Date(1947, 1, 22),
    Date(1948, 2, 10),
    Date(1949, 1, 29),
    Date(1950, 2, 17),
    Date(1951, 2, 6),
    Date(1952, 1, 27),
    Date(1953, 2, 14),
    Date(1954, 2, 3),
    Date(1955, 1, 24),
    Date(1956, 2, 12),
    Date(1957, 1, 31),
    Date(1958, 2, 18),
    Date(1959, 2, 8),
    Date(1960, 1, 28),
    Date(1961, 2, 15),
    Date(1962, 2, 5),
    Date(1963, 1, 25),
    Date(1964, 2, 13),
    Date(1965, 2, 2),
    Date(1966, 1, 21),
    Date(1967, 2, 9),
    Date(1968, 1, 30),
    Date(1969, 2, 17),
    Date(1970, 2, 6),
    Date(1971, 1, 27),
    Date(1972, 2, 15),
    Date(1973, 2, 3),
    Date(1974, 1, 23),
    Date(1975, 2, 11),
    Date(1976, 1, 31),
    Date(1977, 2, 18),
    Date(1978, 2, 7),
    Date(1979, 1, 28),
    Date(1980, 2, 16),
    Date(1981, 2, 5),
    Date(1982, 1, 25),
    Date(1983, 2, 13),
    Date(1984, 2, 2),
    Date(1985, 2, 20),
    Date(1986, 2, 9),
    Date(1987, 1, 29),
    Date(1988, 2, 17),
    Date(1989, 2, 6),
    Date(1990, 1, 27),
    Date(1991, 2, 15),
    Date(1992, 2, 4),
    Date(1993, 1, 23),
    Date(1994, 2, 10),
    Date(1995, 1, 31),
    Date(1996, 2, 19),
    Date(1997, 2, 7),
    Date(1998, 1, 28),
    Date(1999, 2, 16),
    Date(2000, 2, 5),
    Date(2001, 1, 24),
    Date(2002, 2, 12),
    Date(2003, 2, 1),
    Date(2004, 1, 22),
    Date(2005, 2, 9),
    Date(2006, 1, 29),
    Date(2007, 2, 18),
    Date(2008, 2, 7),
    Date(2009, 1, 26),
    Date(2010, 2, 14),
    Date(2011, 2, 3),
    Date(2012, 1, 23),
    Date(2013, 2, 10),
    Date(2014, 1, 31),
    Date(2015, 2, 19),
    Date(2016, 2, 8),
    Date(2017, 1, 28),
    Date(2018, 2, 16),
    Date(2019, 2, 5),
    Date(2020, 1, 25),
    Date(2021, 2, 12),
    Date(2022, 2, 1),
    Date(2023, 1, 22),
    Date(2024, 2, 10),
    Date(2025, 1, 29),
    Date(2026, 2, 17),
    Date(2027, 2, 6),
    Date(2028, 1, 26),
    Date(2029, 2, 13),
    Date(2030, 2, 3),
    Date(2031, 1, 23),
    Date(2032, 2, 11),
    Date(2033, 1, 31),
    Date(2034, 2, 19),
    Date(2035, 2, 8),
    Date(2036, 1, 28),
    Date(2037, 2, 15),
    Date(2038, 2, 4),
    Date(2039, 1, 24),
    Date(2040, 2, 12),
    Date(2041, 2, 1),
    Date(2042, 1, 22),
    Date(2043, 2, 10),
    Date(2044, 1, 30),
    Date(2045, 2, 17),
    Date(2046, 2, 6),
    Date(2047, 1, 26),
    Date(2048, 2, 14),
    Date(2049, 2, 2),
    Date(2050, 1, 23),
    Date(2051, 2, 11),
    Date(2052, 2, 1),
    Date(2053, 2, 19),
    Date(2054, 2, 8),
    Date(2055, 1, 28),
    Date(2056, 2, 15),
    Date(2057, 2, 4),
    Date(2058, 1, 24),
    Date(2059, 2, 12),
    Date(2060, 2, 2),
    Date(2061, 1, 21),
    Date(2062, 2, 9),
    Date(2063, 1, 29),
    Date(2064, 2, 17),
    Date(2065, 2, 5),
    Date(2066, 1, 26),
    Date(2067, 2, 14),
    Date(2068, 2, 3),
    Date(2069, 1, 23),
    Date(2070, 2, 11),
    Date(2071, 1, 31),
    Date(2072, 2, 19),
    Date(2073, 2, 7),
    Date(2074, 1, 27),
    Date(2075, 2, 15),
    Date(2076, 2, 5),
    Date(2077, 1, 24),
    Date(2078, 2, 12),
    Date(2079, 2, 2),
    Date(2080, 1, 22),
    Date(2081, 2, 9),
    Date(2082, 1, 29),
    Date(2083, 2, 17),
    Date(2084, 2, 6),
    Date(2085, 1, 26),
    Date(2086, 2, 14),
    Date(2087, 2, 3),
    Date(2088, 1, 24),
    Date(2089, 2, 10),
    Date(2090, 1, 30),
    Date(2091, 2, 18),
    Date(2092, 2, 7),
    Date(2093, 1, 27),
    Date(2094, 2, 15),
    Date(2095, 2, 5),
    Date(2096, 1, 25),
    Date(2097, 2, 12),
    Date(2098, 2, 1),
    Date(2099, 1, 21),
    Date(2100, 2, 9),
])

const MID_AUTUMN_DATES = Set{Date}([
    Date(1901, 9, 27),
    Date(1902, 9, 16),
    Date(1903, 10, 5),
    Date(1904, 9, 24),
    Date(1905, 9, 13),
    Date(1906, 10, 2),
    Date(1907, 9, 22),
    Date(1908, 9, 10),
    Date(1909, 9, 28),
    Date(1910, 9, 18),
    Date(1911, 10, 6),
    Date(1912, 9, 25),
    Date(1913, 9, 15),
    Date(1914, 10, 4),
    Date(1915, 9, 23),
    Date(1916, 9, 12),
    Date(1917, 9, 30),
    Date(1918, 9, 19),
    Date(1919, 10, 8),
    Date(1920, 9, 26),
    Date(1921, 9, 16),
    Date(1922, 10, 5),
    Date(1923, 9, 25),
    Date(1924, 9, 13),
    Date(1925, 10, 2),
    Date(1926, 9, 21),
    Date(1927, 9, 10),
    Date(1928, 9, 28),
    Date(1929, 9, 17),
    Date(1930, 10, 6),
    Date(1931, 9, 26),
    Date(1932, 9, 15),
    Date(1933, 10, 4),
    Date(1934, 9, 23),
    Date(1935, 9, 12),
    Date(1936, 9, 30),
    Date(1937, 9, 19),
    Date(1938, 10, 8),
    Date(1939, 9, 27),
    Date(1940, 9, 16),
    Date(1941, 10, 5),
    Date(1942, 9, 24),
    Date(1943, 9, 14),
    Date(1944, 10, 1),
    Date(1945, 9, 20),
    Date(1946, 9, 10),
    Date(1947, 9, 29),
    Date(1948, 9, 17),
    Date(1949, 10, 6),
    Date(1950, 9, 26),
    Date(1951, 9, 15),
    Date(1952, 10, 3),
    Date(1953, 9, 22),
    Date(1954, 9, 11),
    Date(1955, 9, 30),
    Date(1956, 9, 19),
    Date(1957, 9, 8),
    Date(1958, 9, 27),
    Date(1959, 9, 17),
    Date(1960, 10, 5),
    Date(1961, 9, 24),
    Date(1962, 9, 13),
    Date(1963, 10, 2),
    Date(1964, 9, 20),
    Date(1965, 9, 10),
    Date(1966, 9, 29),
    Date(1967, 9, 18),
    Date(1968, 10, 6),
    Date(1969, 9, 26),
    Date(1970, 9, 15),
    Date(1971, 10, 3),
    Date(1972, 9, 22),
    Date(1973, 9, 11),
    Date(1974, 9, 30),
    Date(1975, 9, 20),
    Date(1976, 9, 8),
    Date(1977, 9, 27),
    Date(1978, 9, 17),
    Date(1979, 10, 5),
    Date(1980, 9, 23),
    Date(1981, 9, 12),
    Date(1982, 10, 1),
    Date(1983, 9, 21),
    Date(1984, 9, 10),
    Date(1985, 9, 29),
    Date(1986, 9, 18),
    Date(1987, 10, 7),
    Date(1988, 9, 25),
    Date(1989, 9, 14),
    Date(1990, 10, 3),
    Date(1991, 9, 22),
    Date(1992, 9, 11),
    Date(1993, 9, 30),
    Date(1994, 9, 20),
    Date(1995, 9, 9),
    Date(1996, 9, 27),
    Date(1997, 9, 16),
    Date(1998, 10, 5),
    Date(1999, 9, 24),
    Date(2000, 9, 12),
    Date(2001, 10, 1),
    Date(2002, 9, 21),
    Date(2003, 9, 11),
    Date(2004, 9, 28),
    Date(2005, 9, 18),
    Date(2006, 10, 6),
    Date(2007, 9, 25),
    Date(2008, 9, 14),
    Date(2009, 10, 3),
    Date(2010, 9, 22),
    Date(2011, 9, 12),
    Date(2012, 9, 30),
    Date(2013, 9, 19),
    Date(2014, 9, 8),
    Date(2015, 9, 27),
    Date(2016, 9, 15),
    Date(2017, 10, 4),
    Date(2018, 9, 24),
    Date(2019, 9, 13),
    Date(2020, 10, 1),
    Date(2021, 9, 21),
    Date(2022, 9, 10),
    Date(2023, 9, 29),
    Date(2024, 9, 17),
    Date(2025, 10, 6),
    Date(2026, 9, 25),
    Date(2027, 9, 15),
    Date(2028, 10, 3),
    Date(2029, 9, 22),
    Date(2030, 9, 12),
    Date(2031, 10, 1),
    Date(2032, 9, 19),
    Date(2033, 9, 8),
    Date(2034, 9, 27),
    Date(2035, 9, 16),
    Date(2036, 10, 4),
    Date(2037, 9, 24),
    Date(2038, 9, 13),
    Date(2039, 10, 2),
    Date(2040, 9, 20),
    Date(2041, 9, 10),
    Date(2042, 9, 28),
    Date(2043, 9, 17),
    Date(2044, 10, 5),
    Date(2045, 9, 25),
    Date(2046, 9, 15),
    Date(2047, 10, 4),
    Date(2048, 9, 22),
    Date(2049, 9, 11),
    Date(2050, 9, 30),
    Date(2051, 9, 19),
    Date(2052, 9, 7),
    Date(2053, 9, 26),
    Date(2054, 9, 16),
    Date(2055, 10, 5),
    Date(2056, 9, 24),
    Date(2057, 9, 13),
    Date(2058, 10, 2),
    Date(2059, 9, 21),
    Date(2060, 9, 9),
    Date(2061, 9, 28),
    Date(2062, 9, 17),
    Date(2063, 10, 6),
    Date(2064, 9, 25),
    Date(2065, 9, 15),
    Date(2066, 10, 3),
    Date(2067, 9, 23),
    Date(2068, 9, 11),
    Date(2069, 9, 29),
    Date(2070, 9, 19),
    Date(2071, 9, 8),
    Date(2072, 9, 26),
    Date(2073, 9, 16),
    Date(2074, 10, 5),
    Date(2075, 9, 24),
    Date(2076, 9, 12),
    Date(2077, 10, 1),
    Date(2078, 9, 20),
    Date(2079, 9, 10),
    Date(2080, 9, 28),
    Date(2081, 9, 17),
    Date(2082, 10, 6),
    Date(2083, 9, 26),
    Date(2084, 9, 14),
    Date(2085, 10, 3),
    Date(2086, 9, 22),
    Date(2087, 9, 11),
    Date(2088, 9, 29),
    Date(2089, 9, 18),
    Date(2090, 9, 8),
    Date(2091, 9, 27),
    Date(2092, 9, 16),
    Date(2093, 10, 5),
    Date(2094, 9, 24),
    Date(2095, 9, 13),
    Date(2096, 9, 30),
    Date(2097, 9, 20),
    Date(2098, 9, 9),
    Date(2099, 9, 29),
    Date(2100, 9, 18),
])

const DRAGON_BOAT_FESTIVAL_DATES = Set{Date}([
    Date(2020, 6, 25),
    Date(2021, 6, 14),
    Date(2022, 6, 3),
    Date(2023, 6, 22),
    Date(2024, 6, 10),
    Date(2025, 5, 31),
    Date(2026, 6, 19),
    Date(2027, 6, 9),
    Date(2028, 5, 28),
    Date(2029, 6, 16),
    Date(2030, 6, 5),
    Date(2031, 6, 24),
    Date(2032, 6, 12),
    Date(2033, 6, 2),
    Date(2034, 6, 21),
    Date(2035, 6, 11),
])

const QINGMING_FESTIVAL_DATES = Set{Date}([
    Date(2020, 4, 4),
    Date(2021, 4, 4),
    Date(2022, 4, 5),
    Date(2023, 4, 5),
    Date(2024, 4, 4),
    Date(2025, 4, 4),
    Date(2026, 4, 5),
    Date(2027, 4, 5),
    Date(2028, 4, 4),
    Date(2029, 4, 4),
    Date(2030, 4, 5),
    Date(2031, 4, 5),
    Date(2032, 4, 4),
    Date(2033, 4, 4),
    Date(2034, 4, 5),
    Date(2035, 4, 5),
])

is_chinese_new_year(x::TimeType) = x in LUNAR_NEW_YEAR_DATES

is_mid_autumn_festival(x::TimeType) = x in MID_AUTUMN_DATES

is_dragon_boat_festival(x::TimeType) = x in DRAGON_BOAT_FESTIVAL_DATES

is_qingming_festival(x::TimeType) = x in QINGMING_FESTIVAL_DATES

is_lantern_festival(x::TimeType) = (x - Dates.Day(14)) in LUNAR_NEW_YEAR_DATES

end
